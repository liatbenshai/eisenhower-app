# Changelog

כל השינויים המשמעותיים בפרויקט יתועדו בקובץ זה.

## [1.1.0] - 2024-12-17

### ✨ תכונות חדשות

#### מערכת סיווג משימות ולמידה אישית
- **סיווג משימות לפי סוג** - 8 סוגי משימות מובנים (תמלול, הגהה, תקשורת, וכו')
- **זיהוי אוטומטי** - המערכת מזהה את סוג המשימה לפי מילות מפתח
- **חיזוי זמנים חכם** - חיזוי מבוסס היסטוריה אישית עם רמת ביטחון
- **תובנות אישיות** - זיהוי דפוסים: יום פרודוקטיבי, שעה אופטימלית, מגמות שיפור
- **המלצות מותאמות** - עצות לשיפור מבוססות על הנתונים האישיים
- **עמוד תובנות** - עמוד חדש להצגת כל הסטטיסטיקות והתובנות
- **מעקב אחר דיוק** - השוואה בין זמן משוער לזמן בפועל

### 🗄️ מסד נתונים

#### טבלאות חדשות
- `task_type_stats` - סטטיסטיקות מצטברות לכל סוג משימה למשתמש
- `task_completion_history` - היסטוריה מלאה של משימות שהושלמו

#### שדות חדשים
- `tasks.task_type` - שדה חדש לשמירת סוג המשימה

#### טריגרים
- `update_task_type_stats_trigger` - עדכון אוטומטי של סטטיסטיקות בעת השלמת משימה

### 💻 קוד

#### קבצים חדשים
- `src/utils/taskTypeLearning.js` - פונקציות למידה, חיזוי וניתוח
- `src/components/Tasks/TaskTypeInsights.jsx` - קומפוננטת תובנות
- `src/pages/TaskInsights.jsx` - עמוד תובנות מלא
- `supabase/migrations/007_add_task_types_and_learning.sql` - Migration למערכת הלמידה

#### קבצים ששונו
- `src/components/Tasks/TaskForm.jsx` - הוספת בחירת סוג משימה וחיזוי AI
- `src/context/TaskContext.jsx` - תמיכה בשדה task_type
- `src/services/supabase.js` - שמירת task_type ב-createTask
- `src/App.jsx` - מסלול חדש /insights
- `src/components/Layout/Sidebar.jsx` - קישור לעמוד תובנות

### 📚 תיעוד

#### קבצי תיעוד חדשים
- `START_HERE.md` - נקודת התחלה מהירה למשתמשים
- `SUMMARY_HE.md` - סיכום מלא בעברית
- `WHATS_NEW.md` - הסבר מפורט על התכונות החדשות
- `MIGRATION_INSTRUCTIONS.md` - הוראות התקנה שלב אחר שלב
- `TASK_TYPE_SYSTEM.md` - תיעוד טכני מפורט
- `USAGE_EXAMPLES.md` - דוגמאות קוד למפתחים
- `TASK_TYPE_README.md` - README מרכזי למערכת הלמידה
- `CHANGELOG.md` - קובץ זה

#### עדכוני תיעוד
- `README.md` - עדכון עם קישור למערכת החדשה

### 🔒 אבטחה

- Row Level Security (RLS) מופעל על כל הטבלאות החדשות
- כל משתמש רואה רק את הנתונים שלו
- מנהלים יכולים לראות רק סטטיסטיקות כלליות (לא נתונים אישיים)

### 🎨 ממשק משתמש

#### שיפורים בטופס משימות
- בחירה ויזואלית של סוג משימה
- הצגת זיהוי אוטומטי עם רמת ביטחון
- תצוגת חיזוי AI עם פרטים מלאים:
  - זמן משוער
  - ממוצע משימות קודמות
  - דיוק היסטורי
  - רמת ביטחון (גבוהה/בינונית/נמוכה)
  - טווח זמנים (מינימום-מקסימום)

#### עמוד תובנות חדש
- סיכום כללי (משימות, זמן עבודה, דיוק)
- המלצות מותאמות אישית
- פירוט לכל סוג משימה
- תובנות ספציפיות:
  - היום הכי פרודוקטיבי
  - השעה הכי טובה
  - מגמות שיפור
  - עקביות בזמנים

### 📊 אלגוריתמי למידה

#### חיזוי זמנים
- ממוצע פשוט לסוג משימה
- התאמה לפי רבע במטריצה
- שיקלול לפי אורך תיאור המשימה
- רמת ביטחון דינמית (מספר משימות קודמות)

#### ניתוח תובנות
- זיהוי יום פרודוקטיבי לפי דיוק ממוצע
- זיהוי שעה אופטימלית לכל סוג משימה
- חישוב מגמות שיפור (השוואת 5 משימות אחרונות ל-5 קודמות)
- מדידת עקביות (Coefficient of Variation)

#### המלצות
- זיהוי סוגי משימות עם דיוק נמוך (<70%)
- זיהוי משימות שלוקחות זמן רב (>90 דקות)
- המלצה לסיווג מדויק יותר
- חיזוק חיובי בדיוק גבוה (>80%)

### 🐛 תיקוני באגים

- תיקון בעיית כפילויות בסטטיסטיקות (UNIQUE constraint)
- טיפול נכון בערכי NULL בחישובי דיוק
- מניעת division by zero בחישובים סטטיסטיים

### ⚡ שיפורי ביצועים

- אינדקסים על `task_type`, `user_id`, `completed_at`
- חישוב אוטומטי של סטטיסטיקות בטריגר (במקום בקוד)
- שאילתות מותאמות עם LIMIT

---

## [1.0.0] - 2024-11-XX

### ✨ השקה ראשונית

#### תכונות בסיסיות
- מטריצת אייזנהאואר עם 4 רבעים
- יצירה, עריכה ומחיקה של משימות
- גרירה ושחרור בין רבעים
- תזכורות Push ומייל
- ייצוא ל-PDF, Excel, CSV
- מצב כהה/בהיר
- PWA עם תמיכה אופליין
- ממשק רספונסיבי
- פאנל ניהול למנהלים

#### תכונות חכמות
- תכנון אוטומטי של היום/שבוע
- למידה אוטומטית של דפוסי עבודה
- זיהוי קטגוריות משימות
- ניהול אנרגיה חכם
- ניתוח עומס עבודה
- הערכת זמן אוטומטית
- קביעת רביע אוטומטית
- המלצות חכמות

#### מסד נתונים
- Supabase PostgreSQL
- Row Level Security (RLS)
- טבלאות: users, tasks, notification_settings

#### אימות
- הרשמה והתחברות
- ניהול משתמשים
- הרשאות מנהל

---

## תבנית לגרסאות עתידיות

### [X.X.X] - YYYY-MM-DD

#### ✨ תכונות חדשות
- תיאור התכונה

#### 🗄️ מסד נתונים
- שינויים במסד הנתונים

#### 💻 קוד
- שינויים בקוד

#### 📚 תיעוד
- עדכוני תיעוד

#### 🐛 תיקוני באגים
- תיקוני באגים

#### ⚡ שיפורי ביצועים
- שיפורי ביצועים

#### 🔒 אבטחה
- שיפורי אבטחה

#### 🗑️ הוצא משימוש (Deprecated)
- תכונות שהוצאו משימוש

#### ❌ הוסר (Removed)
- תכונות שהוסרו

---

## הערות

- הפורמט מבוסס על [Keep a Changelog](https://keepachangelog.com/)
- גרסאות לפי [Semantic Versioning](https://semver.org/)
  - MAJOR: שינויים לא תואמים לאחור
  - MINOR: תכונות חדשות תואמות לאחור
  - PATCH: תיקוני באגים תואמים לאחור

