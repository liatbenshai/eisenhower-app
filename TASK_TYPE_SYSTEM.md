# מערכת סיווג משימות ולמידה אישית

## סקירה כללית

מערכת חדשה ומתקדמת שמאפשרת למשתמשים לסווג משימות לפי סוגים (תמלול, שיחות עם לקוחות, הגהה, וכו') והאפליקציה **לומדת** את דפוסי העבודה שלהם כדי לספק חיזויי זמן מדויקים יותר ותובנות אישיות.

## תכונות עיקריות

### 1. סיווג משימות חכם
- **8 סוגי משימות מוגדרים מראש:**
  - 🎙️ תמלול
  - ✍️ הגהה
  - 💬 תקשורת עם לקוחות
  - 📧 מיילים
  - 📚 פיתוח קורסים
  - 📢 קידום עסק
  - 👨‍👩‍👧‍👦 משפחה
  - 📋 ניהול
  - 📝 אחר

- **זיהוי אוטומטי:** המערכת מזהה אוטומטית את סוג המשימה לפי מילות מפתח בכותרת והתיאור
- **בחירה ידנית:** המשתמש יכול לבחור או לשנות את סוג המשימה

### 2. מערכת למידה מתקדמת

#### חיזוי זמני ביצוע
- המערכת אוספת נתונים על זמני ביצוע בפועל לכל סוג משימה
- מחשבת ממוצעים, מינימום ומקסימום
- מספקת חיזוי חכם עם רמת ביטחון (גבוהה/בינונית/נמוכה)

#### מעקב אחר דיוק
- המערכת משווה בין הזמן המשוער לזמן הביצוע בפועל
- מחשבת אחוז דיוק למשתמש
- מזהה אם המשתמש נוטה להעריך יותר מדי או פחות מדי

#### תובנות אישיות
- **היום הכי פרודוקטיבי:** מזהה באיזה יום בשבוע המשתמש הכי יעיל
- **השעה הכי טובה:** מזהה באיזו שעה ביום המשתמש הכי ממוקד
- **מגמות שיפור:** מזהה אם המשתמש משתפר בהערכות הזמן שלו
- **עקביות:** מודד עד כמה המשתמש עקבי בזמני הביצוע שלו

### 3. המלצות חכמות
המערכת מספקת המלצות מותאמות אישית:
- שיפור הערכות זמן לסוגי משימות ספציפיים
- פיצול משימות ארוכות מדי
- סיווג מדויק יותר של משימות
- חיוב חיובי כשהדיוק גבוה

## מבנה טכני

### 1. מסד נתונים

#### טבלת `task_type_stats`
שומרת סטטיסטיקות מצטברות לכל סוג משימה:
- סה"כ משימות והשלמות
- זמן ממוצע, מינימום, מקסימום
- דיוק ממוצע
- רבע מועדף
- זמן ביום מועדף

#### טבלת `task_completion_history`
שומרת היסטוריה מלאה של כל משימה שהושלמה:
- זמן משוער vs זמן בפועל
- אחוז דיוק
- יום בשבוע ושעה ביום
- רבע במטריצה

#### טריגר אוטומטי
כאשר משימה מסומנת כהושלמה, טריגר במסד הנתונים:
1. מחשב את אחוז הדיוק
2. מוסיף רשומה להיסטוריה
3. מעדכן את הסטטיסטיקות המצטברות

### 2. קוד

#### `taskTypeLearning.js`
פונקציות עיקריות:
- `predictTaskDuration()` - חיזוי זמן ביצוע
- `getTaskTypeInsights()` - קבלת תובנות לסוג משימה
- `getTaskTypeSummary()` - סיכום כללי
- `getTimeManagementRecommendations()` - המלצות לשיפור

#### `TaskForm.jsx` (משופר)
- בחירת סוג משימה עם ממשק ויזואלי
- זיהוי אוטומטי של סוג המשימה
- הצגת חיזוי AI עם פרטים מלאים
- עדכון אוטומטי של הזמן המשוער

#### `TaskTypeInsights.jsx`
קומפוננטה חדשה להצגת:
- סיכום כללי (סה"כ משימות, זמן עבודה, דיוק)
- המלצות מותאמות אישית
- פירוט לכל סוג משימה
- תובנות ספציפיות לכל סוג

#### `TaskInsights.jsx`
עמוד חדש בניווט עם גישה לכל התובנות

## תרחישי שימוש

### תרחיש 1: משתמש חדש
1. משתמש יוצר משימה חדשה
2. בוחר "תמלול" כסוג משימה
3. המערכת מציעה זמן ברירת מחדל (60 דקות)
4. משתמש מסיים את המשימה אחרי 45 דקות
5. המערכת לומדת וזוכרת

### תרחיש 2: משתמש מנוסה
1. משתמש יוצר משימת "תמלול" חדשה
2. המערכת מציגה: "חיזוי חכם: 47 דקות (ממוצע של 12 משימות קודמות)"
3. המערכת מראה: "דיוק ממוצע: 85% - גבוהה"
4. המשתמש יכול להשתמש בחיזוי או לשנות

### תרחיש 3: קבלת תובנות
1. משתמש נכנס לעמוד "תובנות למידה"
2. רואה: "הכי הרבה עובד על: תמלול (25 משימות)"
3. רואה: "היום הכי פרודוקטיבי: שלישי (92% דיוק)"
4. מקבל המלצה: "הגהה לוקחת הרבה זמן - שקול לפצל למשימות קטנות יותר"

## הוראות התקנה והפעלה

### 1. הרצת Migration
```bash
# במסוף Supabase SQL Editor, הרץ:
supabase/migrations/007_add_task_types_and_learning.sql
```

### 2. אין צורך בפעולות נוספות!
המערכת עובדת אוטומטית:
- הטופס להוספת משימות מעודכן
- הסטטיסטיקות נאספות אוטומטית
- התובנות זמינות מיד

### 3. ניווט לתובנות
במסך הראשי, לחץ על תפריט ≡ ובחר "📊 תובנות למידה"

## יתרונות המערכת

1. **למידה מתמשכת** - ככל שהמשתמש משתמש יותר, החיזויים מדויקים יותר
2. **תובנות אישיות** - כל משתמש מקבל המלצות מותאמות לדפוסי העבודה שלו
3. **שיפור בזמן אמת** - המערכת מתעדכנת אוטומטית עם כל משימה שהושלמה
4. **ממשק אינטואיטיבי** - קל לבחור סוג משימה ולראות את החיזויים
5. **פרטיות** - כל הנתונים שמורים למשתמש עצמו (RLS)

## טיפים למשתמשים

1. **היו עקביים בסיווג** - ככל שתסווגו נכון יותר, החיזויים יהיו מדויקים יותר
2. **השתמשו בטיימר** - הטיימר שומר את הזמן האמיתי שעבדתם
3. **בדקו תובנות קבוע** - כדאי לבדוק את התובנות פעם בשבוע
4. **התאימו משימות** - אם משימה לוקחת הרבה זמן, אולי כדאי לפצל אותה

## תכונות עתידיות (אופציונלי)

- **למידת מכונה מתקדמת** - חיזוי מבוסס על גורמים נוספים
- **השוואה חברתית** - "משתמשים אחרים עושים תמלול ב-50 דקות בממוצע"
- **יעדים אישיים** - "נסה להגיע ל-90% דיוק החודש"
- **דוחות שבועיים** - אימייל אוטומטי עם סיכום השבוע
- **אינטגרציה עם לוח שנה** - הצעות אוטומטיות למתי לבצע משימות

## תמיכה

אם יש בעיות או שאלות, בדוק:
1. שה-migration רץ בהצלחה
2. שהשדה `task_type` קיים בטבלת `tasks`
3. שהטבלאות `task_type_stats` ו-`task_completion_history` קיימות
4. שהטריגר `update_task_type_stats_trigger` פעיל

---

**גרסה:** 1.0  
**תאריך:** דצמבר 2024  
**מפתח:** מערכת אייזנהאואר

